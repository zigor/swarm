{"version":3,"sources":["webpack:///build.js","webpack:///webpack/bootstrap 8a796ba865fb1030fc1b","webpack:///./src/main.js","webpack:///./src/randoms.js","webpack:///./src/randoms/inCone.js","webpack:///./src/randoms/inCube.js","webpack:///./src/randoms/inCylinder.js","webpack:///./src/randoms/inEllipsoid.js","webpack:///./src/randoms/inSphere.js","webpack:///./src/randoms/inArray.js","webpack:///./src/swarm.js","webpack:///./src/utils.js","webpack:///./src/sample.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_randoms","_randoms2","_swarm","_swarm2","radius","transformations","_","to","inSphere","Math","random","randomEffect","inCube","inCone","inCylinder","inEllipsoid","effect","TWEEN","Easing","Bounce","Linear","Quadratic","Cubic","Quartic","Quintic","Sinusoidal","Exponential","Circular","Elastic","Back","effectDirection","inArray","document","getElementById","go","then","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_inCone2","_inCone3","_inCube2","_inCube3","_inCylinder2","_inCylinder3","_inEllipsoid2","_inEllipsoid3","_inSphere2","_inSphere3","_inArray2","_inArray3","randoms","this","apply","arguments","height","angle","PI","z","THREE","Vector3","sqrt","cos","sin","size","radius1","radius2","radius3","unitVector","pow","arr","floor","_sample","_sample2","Swarm","container","name","count","sample","camera","prepareCamera","scene","prepareScene","renderer","prepareRenderer","init","_animate","self","requestAnimationFrame","render","pointRule","colorRule","duration","setPointRule","setColorRule","points","getObjectByName","toPosition","fromPosition","geometry","attributes","position","array","slice","Promise","resolve","reject","Tween","onUpdate","step","updateRange","needsUpdate","easing","Out","onComplete","start","getGeometry","swarmName","BufferGeometry","addAttribute","BufferAttribute","colors","computeBoundingSphere","material","PointsMaterial","vertexColors","VertexColors","Points","add","PerspectiveCamera","window","innerWidth","innerHeight","Scene","fog","Fog","WebGLRenderer","antialias","setClearColor","color","setPixelRatio","devicePixelRatio","setSize","appendChild","domElement","addEventListener","aspect","updateProjectionMatrix","time","Date","now","rotation","x","y","update","Float32Array","end","that","undefined","result","ArrayBuffer","resultArray","_zero","_white","Color","setRGB","Sample","_count","_points","_colors","_pointRule","_colorRule","producePointRule","v3","produceColorRule","rgb","r","g","b","get"],"mappings":"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","file":"build.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _randoms = __webpack_require__(1);\n\t\n\tvar _randoms2 = _interopRequireDefault(_randoms);\n\t\n\tvar _swarm = __webpack_require__(8);\n\t\n\tvar _swarm2 = _interopRequireDefault(_swarm);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar radius = 600;\n\t\n\tvar transformations = [function (_) {\n\t    return _.to(function () {\n\t        return _randoms2.default.inSphere(radius - 100 + Math.random() * radius);\n\t    }, null, 3000, randomEffect());\n\t}, function (_) {\n\t    return _.to(function () {\n\t        return _randoms2.default.inCube(radius - 100 + Math.random() * radius);\n\t    }, null, 3000, randomEffect());\n\t}, function (_) {\n\t    return _.to(function () {\n\t        return _randoms2.default.inCone(radius - 100 + Math.random() * radius, 600);\n\t    }, null, 3000, randomEffect());\n\t}, function (_) {\n\t    return _.to(function () {\n\t        return _randoms2.default.inCylinder(radius - 100 + Math.random() * radius, 500);\n\t    }, null, 3000, randomEffect());\n\t}, function (_) {\n\t    return _.to(function () {\n\t        return _randoms2.default.inEllipsoid(radius - 100 + Math.random() * radius, 500, 300);\n\t    }, null, 3000, randomEffect());\n\t}];\n\t\n\tvar effect = [TWEEN.Easing.Bounce, TWEEN.Easing.Linear, TWEEN.Easing.Quadratic, TWEEN.Easing.Cubic, TWEEN.Easing.Quartic, TWEEN.Easing.Quintic, TWEEN.Easing.Sinusoidal, TWEEN.Easing.Exponential, TWEEN.Easing.Circular, TWEEN.Easing.Elastic, TWEEN.Easing.Back];\n\t\n\tvar effectDirection = [\"In\", \"Out\", \"InOut\"];\n\t\n\tvar randomEffect = function randomEffect() {\n\t    return _randoms2.default.inArray(effect)[_randoms2.default.inArray(effectDirection)];\n\t};\n\t\n\tvar _ = new _swarm2.default(document.getElementById('container'), \"sample\", 50000);\n\t\n\tvar go = function go() {\n\t    _randoms2.default.inArray(transformations)(_).then(function () {\n\t        go();\n\t    });\n\t};\n\t\n\tgo();\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _inCone2 = __webpack_require__(2);\n\t\n\tvar _inCone3 = _interopRequireDefault(_inCone2);\n\t\n\tvar _inCube2 = __webpack_require__(3);\n\t\n\tvar _inCube3 = _interopRequireDefault(_inCube2);\n\t\n\tvar _inCylinder2 = __webpack_require__(4);\n\t\n\tvar _inCylinder3 = _interopRequireDefault(_inCylinder2);\n\t\n\tvar _inEllipsoid2 = __webpack_require__(5);\n\t\n\tvar _inEllipsoid3 = _interopRequireDefault(_inEllipsoid2);\n\t\n\tvar _inSphere2 = __webpack_require__(6);\n\t\n\tvar _inSphere3 = _interopRequireDefault(_inSphere2);\n\t\n\tvar _inArray2 = __webpack_require__(7);\n\t\n\tvar _inArray3 = _interopRequireDefault(_inArray2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar randoms = function () {\n\t    function randoms() {\n\t        _classCallCheck(this, randoms);\n\t    }\n\t\n\t    _createClass(randoms, null, [{\n\t        key: 'inCone',\n\t        value: function inCone() {\n\t            return _inCone3.default.apply(null, arguments);\n\t        }\n\t    }, {\n\t        key: 'inCube',\n\t        value: function inCube() {\n\t            return _inCube3.default.apply(null, arguments);\n\t        }\n\t    }, {\n\t        key: 'inCylinder',\n\t        value: function inCylinder() {\n\t            return _inCylinder3.default.apply(null, arguments);\n\t        }\n\t    }, {\n\t        key: 'inEllipsoid',\n\t        value: function inEllipsoid() {\n\t            return _inEllipsoid3.default.apply(null, arguments);\n\t        }\n\t    }, {\n\t        key: 'inSphere',\n\t        value: function inSphere() {\n\t            return _inSphere3.default.apply(null, arguments);\n\t        }\n\t    }, {\n\t        key: 'inArray',\n\t        value: function inArray() {\n\t            return _inArray3.default.apply(null, arguments);\n\t        }\n\t    }]);\n\t\n\t    return randoms;\n\t}();\n\t\n\texports.default = randoms;\n\t;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = inCone;\n\tfunction inCone(radius, height) {\n\t    var angle = Math.random() * Math.PI * 2;\n\t\n\t    var z = (Math.random() * 2 - 1) * height;\n\t\n\t    return new THREE.Vector3(Math.sqrt(Math.random()) * (height - z) * Math.cos(angle), Math.sqrt(Math.random()) * (height - z) * Math.sin(angle), z);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = inCube;\n\tfunction inCube(size) {\n\t    return new THREE.Vector3(Math.random() * size - size / 2, Math.random() * size - size / 2, Math.random() * size - size / 2);\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = inCylinder;\n\tfunction inCylinder(radius, height) {\n\t    var angle = Math.random() * Math.PI * 2;\n\t\n\t    return new THREE.Vector3(Math.sqrt(Math.random()) * radius * Math.cos(angle), Math.sqrt(Math.random()) * radius * Math.sin(angle), (Math.random() * 2 - 1) * height);\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = inEllipsoid;\n\tfunction inEllipsoid(radius1, radius2, radius3) {\n\t    var angle = Math.random() * Math.PI * 2;\n\t    var unitVector = Math.random() * 2 - 1;\n\t\n\t    return new THREE.Vector3(Math.cos(angle) * Math.sqrt(1 - Math.pow(unitVector, 2)) * radius1, Math.sin(angle) * Math.sqrt(1 - Math.pow(unitVector, 2)) * radius2, unitVector * radius3);\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = inSphere;\n\tfunction inSphere(radius) {\n\t    var angle = Math.random() * Math.PI * 2;\n\t    var unitVector = Math.random() * 2 - 1;\n\t\n\t    return new THREE.Vector3(Math.cos(angle) * Math.sqrt(1 - Math.pow(unitVector, 2)) * radius, Math.sin(angle) * Math.sqrt(1 - Math.pow(unitVector, 2)) * radius, unitVector * radius);\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = inArray;\n\tfunction inArray(arr) {\n\t    return arr[Math.floor(Math.random() * arr.length)];\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(9);\n\t\n\tvar _sample = __webpack_require__(10);\n\t\n\tvar _sample2 = _interopRequireDefault(_sample);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Swarm = function () {\n\t    function Swarm(container, name, count) {\n\t        _classCallCheck(this, Swarm);\n\t\n\t        this.sample = new _sample2.default(count);\n\t\n\t        this.name = name;\n\t\n\t        this.camera = prepareCamera();\n\t        this.scene = prepareScene(this.name, this.sample);\n\t        this.renderer = prepareRenderer(this.scene);\n\t\n\t        init(this.renderer, this.scene, this.camera);\n\t\n\t        this._animate();\n\t    }\n\t\n\t    _createClass(Swarm, [{\n\t        key: '_animate',\n\t        value: function _animate() {\n\t            var self = this;\n\t            requestAnimationFrame(function () {\n\t                self._animate();\n\t            });\n\t            render(this.renderer, this.scene, this.camera, this.name);\n\t        }\n\t    }, {\n\t        key: 'to',\n\t        value: function to(pointRule, colorRule, duration, effect) {\n\t\n\t            if (pointRule != null) {\n\t                this.sample.setPointRule(pointRule);\n\t            }\n\t\n\t            if (colorRule) {\n\t                this.sample.setColorRule(colorRule);\n\t            }\n\t\n\t            var points = this.scene.getObjectByName(this.name);\n\t            var toPosition = this.sample.points;\n\t\n\t            var fromPosition = points.geometry.attributes.position.array.slice(0);\n\t\n\t            var self = this;\n\t            return new Promise(function (resolve, reject) {\n\t                new TWEEN.Tween(points.geometry.attributes).to({}, duration).onUpdate(function (step) {\n\t\n\t                    for (var i = 0; i < this.position.array.length; ++i) {\n\t                        this.position.array[i] = fromPosition[i] + (toPosition[i] - fromPosition[i]) * step;\n\t                    }\n\t\n\t                    this.position.updateRange.count = this.position.array.length;\n\t\n\t                    if (this.position.updateRange.count > 0) {\n\t                        this.position.needsUpdate = true;\n\t                    }\n\t                }).easing(effect || TWEEN.Easing.Bounce.Out).onComplete(function () {\n\t                    resolve(self);\n\t                }).start();\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return Swarm;\n\t}();\n\t\n\texports.default = Swarm;\n\t\n\tvar getGeometry = function getGeometry(scene, swarmName, sample) {\n\t\n\t    var geometry = new THREE.BufferGeometry();\n\t\n\t    geometry.addAttribute('position', new THREE.BufferAttribute(sample.points, 3));\n\t    geometry.addAttribute('color', new THREE.BufferAttribute(sample.colors, 3));\n\t    geometry.computeBoundingSphere();\n\t\n\t    var material = new THREE.PointsMaterial({ size: 15, vertexColors: THREE.VertexColors });\n\t    var points = new THREE.Points(geometry, material);\n\t\n\t    points.name = swarmName;\n\t\n\t    scene.add(points);\n\t};\n\t\n\tvar prepareCamera = function prepareCamera() {\n\t\n\t    var camera = new THREE.PerspectiveCamera(27, window.innerWidth / window.innerHeight, 5, 3500);\n\t    camera.position.z = 2750;\n\t\n\t    return camera;\n\t};\n\t\n\tvar prepareScene = function prepareScene(swarmName, sample) {\n\t\n\t    var scene = new THREE.Scene();\n\t    scene.fog = new THREE.Fog(0x050505, 2000, 3500);\n\t\n\t    getGeometry(scene, swarmName, sample);\n\t\n\t    return scene;\n\t};\n\t\n\tvar prepareRenderer = function prepareRenderer(scene) {\n\t\n\t    var renderer = new THREE.WebGLRenderer({ antialias: false });\n\t\n\t    renderer.setClearColor(scene.fog.color);\n\t    renderer.setPixelRatio(window.devicePixelRatio);\n\t    renderer.setSize(window.innerWidth, window.innerHeight);\n\t\n\t    return renderer;\n\t};\n\t\n\tvar init = function init(renderer, scene, camera) {\n\t\n\t    container.appendChild(renderer.domElement);\n\t\n\t    window.addEventListener('resize', function () {\n\t\n\t        camera.aspect = window.innerWidth / window.innerHeight;\n\t        camera.updateProjectionMatrix();\n\t        renderer.setSize(window.innerWidth, window.innerHeight);\n\t    }, false);\n\t};\n\t\n\tvar render = function render(renderer, scene, camera, swarmName) {\n\t    var time = Date.now() * 0.001;\n\t\n\t    var points = scene.getObjectByName(swarmName);\n\t    points.rotation.x = time * 0.25;\n\t    points.rotation.y = time * 0.5;\n\t\n\t    TWEEN.update();\n\t\n\t    renderer.render(scene, camera);\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\texports.default = function () {\n\t    if (!Float32Array.prototype.slice) {\n\t        Float32Array.prototype.slice = function (start, end) {\n\t            var that = this;\n\t            if (end == undefined) end = that.length;\n\t            var result = new ArrayBuffer(end - start);\n\t            var resultArray = new Float32Array(result);\n\t            for (var i = 0; i < resultArray.length; i++) {\n\t                resultArray[i] = that[i + start];\n\t            }return resultArray;\n\t        };\n\t    }\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\t__webpack_require__(9);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar _zero = new THREE.Vector3(0, 0, 0);\n\tvar _white = new THREE.Color().setRGB(1, 1, 1);\n\t\n\tvar Sample = function () {\n\t    function Sample(count) {\n\t        _classCallCheck(this, Sample);\n\t\n\t        this._count = count;\n\t\n\t        this._points = new Float32Array(count * 3);\n\t        this._colors = new Float32Array(count * 3);\n\t\n\t        this._pointRule = null;\n\t        this._colorRule = null;\n\t\n\t        this.setPointRule(function () {\n\t            return _zero;\n\t        });\n\t        this.setColorRule(function () {\n\t            return _white;\n\t        });\n\t    }\n\t\n\t    _createClass(Sample, [{\n\t        key: 'setPointRule',\n\t        value: function setPointRule(producePointRule) {\n\t            this._pointRule = producePointRule;\n\t\n\t            for (var i = 0; i < this._count; i += 3) {\n\t\n\t                var v3 = producePointRule();\n\t\n\t                this._points[i] = v3.x;\n\t                this._points[i + 1] = v3.y;\n\t                this._points[i + 2] = v3.z;\n\t            }\n\t\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'setColorRule',\n\t        value: function setColorRule(produceColorRule) {\n\t            this._colorRule = produceColorRule;\n\t\n\t            for (var i = 0; i < this._count; i += 3) {\n\t\n\t                var rgb = produceColorRule(new THREE.Vector3(this._points[i], this._points[i + 1], this._points[i + 2]));\n\t\n\t                this._colors[i] = rgb.r;\n\t                this._colors[i + 1] = rgb.g;\n\t                this._colors[i + 2] = rgb.b;\n\t            }\n\t\n\t            return this;\n\t        }\n\t    }, {\n\t        key: 'count',\n\t        get: function get() {\n\t            return this._count;\n\t        }\n\t    }, {\n\t        key: 'points',\n\t        get: function get() {\n\t            return this._points.slice(0);\n\t        }\n\t    }, {\n\t        key: 'colors',\n\t        get: function get() {\n\t            return this._colors.slice(0);\n\t        }\n\t    }]);\n\t\n\t    return Sample;\n\t}();\n\t\n\texports.default = Sample;\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** build.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8a796ba865fb1030fc1b\n **/","'use strict';\r\n\r\nimport randoms from './randoms';\r\nimport Swarm from './swarm';\r\n\r\nvar radius = 600;\r\n\r\n\r\nvar transformations = [\r\n    (_) => _.to(() => { return randoms.inSphere(radius - 100 + Math.random() * radius) }, null, 3000, randomEffect()),\r\n    (_) => _.to(() => { return randoms.inCube(radius - 100 + Math.random() * radius) }, null, 3000, randomEffect()),\r\n    (_) => _.to(() => { return randoms.inCone(radius - 100 + Math.random() * radius, 600) }, null, 3000, randomEffect()),\r\n    (_) => _.to(() => { return randoms.inCylinder(radius - 100 + Math.random() * radius, 500) }, null, 3000, randomEffect()),\r\n    (_) => _.to(() => { return randoms.inEllipsoid(radius - 100 + Math.random() * radius, 500, 300) }, null, 3000, randomEffect()),\r\n];\r\n\r\nvar effect = [\r\n    TWEEN.Easing.Bounce,\r\n    TWEEN.Easing.Linear, \r\n    TWEEN.Easing.Quadratic, \r\n    TWEEN.Easing.Cubic, \r\n    TWEEN.Easing.Quartic, \r\n    TWEEN.Easing.Quintic, \r\n    TWEEN.Easing.Sinusoidal, \r\n    TWEEN.Easing.Exponential, \r\n    TWEEN.Easing.Circular, \r\n    TWEEN.Easing.Elastic, \r\n    TWEEN.Easing.Back\r\n];\r\n\r\nvar effectDirection = [ \"In\", \"Out\", \"InOut\" ]\r\n\r\nvar randomEffect = function() {\r\n    return randoms.inArray(effect)[randoms.inArray(effectDirection)]\r\n}\r\n\r\nvar _ = new Swarm(document.getElementById('container'), \"sample\", 50000);\r\n\r\nvar go = function () {\r\n    (randoms.inArray(transformations)(_))\r\n        .then(function () {\r\n            go();\r\n        });\r\n};\r\n\r\ngo();\r\n\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","'use strict';\r\n\r\nimport _inCone from './randoms/inCone';\r\nimport _inCube from './randoms/inCube'; \r\nimport _inCylinder from './randoms/inCylinder';\r\nimport _inEllipsoid from './randoms/inEllipsoid';\r\nimport _inSphere from './randoms/inSphere';\r\nimport _inArray from './randoms/inArray';\r\n\r\nexport default class randoms { \r\n    static inCone() { return _inCone.apply(null, arguments) } \r\n    static inCube() { return _inCube.apply(null, arguments) }     \r\n    static inCylinder() { return _inCylinder.apply(null, arguments) } \r\n    static inEllipsoid() { return _inEllipsoid.apply(null, arguments) } \r\n    static inSphere() { return _inSphere.apply(null, arguments) }\r\n\r\n    static inArray() { return _inArray.apply(null, arguments) } \r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/randoms.js\n **/","'use strict';\r\n\r\nexport default function inCone(radius, height) {\r\n    var angle = Math.random() * Math.PI * 2;\r\n\r\n    var z = (Math.random() * 2 - 1) * height;\r\n\r\n    return new THREE.Vector3(\r\n        Math.sqrt(Math.random()) * (height - z) * Math.cos(angle),\r\n        Math.sqrt(Math.random()) * (height - z) * Math.sin(angle),\r\n        z);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/randoms/inCone.js\n **/","'use strict';\r\n\r\nexport default function inCube(size) {\r\n    return new THREE.Vector3(\r\n        Math.random() * size - size / 2,\r\n        Math.random() * size - size / 2,\r\n        Math.random() * size - size / 2);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/randoms/inCube.js\n **/","'use strict';\r\n \r\nexport default function inCylinder(radius, height) {\r\n    var angle = Math.random() * Math.PI * 2;\r\n\r\n    return new THREE.Vector3(\r\n        Math.sqrt(Math.random()) * radius * Math.cos(angle),\r\n        Math.sqrt(Math.random()) * radius * Math.sin(angle),\r\n        (Math.random() * 2 - 1) * height);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/randoms/inCylinder.js\n **/","'use strict';\r\n\r\nexport default function inEllipsoid(radius1, radius2, radius3) {\r\n    var angle = Math.random() * Math.PI * 2;\r\n    var unitVector = Math.random() * 2 - 1;\r\n\r\n    return new THREE.Vector3(\r\n        Math.cos(angle) * Math.sqrt(1 - Math.pow(unitVector, 2)) * radius1,\r\n        Math.sin(angle) * Math.sqrt(1 - Math.pow(unitVector, 2)) * radius2,\r\n        unitVector * radius3);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/randoms/inEllipsoid.js\n **/","'use strict';\r\n\r\nexport default function inSphere(radius) {\r\n    var angle = Math.random() * Math.PI * 2;\r\n    var unitVector = Math.random() * 2 - 1;\r\n\r\n    return new THREE.Vector3(\r\n        Math.cos(angle) * Math.sqrt(1 - Math.pow(unitVector, 2)) * radius,\r\n        Math.sin(angle) * Math.sqrt(1 - Math.pow(unitVector, 2)) * radius,\r\n        unitVector * radius);\r\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/randoms/inSphere.js\n **/","'use strict';\r\n\r\nexport default function inArray(arr) {\r\n    return arr[Math.floor(Math.random() * arr.length)];\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/randoms/inArray.js\n **/","import {} from './utils'\r\nimport Sample from './sample'\r\n\r\nexport default class Swarm {\r\n\r\n    constructor(container, name, count) {\r\n\r\n        this.sample = new Sample(count);\r\n\r\n        this.name = name;\r\n\r\n        this.camera = prepareCamera();\r\n        this.scene = prepareScene(this.name, this.sample);\r\n        this.renderer = prepareRenderer(this.scene);\r\n\r\n        init(this.renderer, this.scene, this.camera);\r\n\r\n        this._animate();\r\n    }\r\n\r\n    _animate() {\r\n        var self = this;\r\n        requestAnimationFrame(function () { self._animate() });\r\n        render(this.renderer, this.scene, this.camera, this.name);\r\n    }\r\n\r\n    to(pointRule, colorRule, duration, effect) {\r\n\r\n        if (pointRule != null) {\r\n            this.sample.setPointRule(pointRule);\r\n        }\r\n\r\n        if (colorRule) {\r\n            this.sample.setColorRule(colorRule);\r\n        }\r\n\r\n        var points = this.scene.getObjectByName(this.name);\r\n        var toPosition = this.sample.points;\r\n\r\n        var fromPosition = points.geometry.attributes.position.array.slice(0);\r\n\r\n        var self = this;\r\n        return new Promise((resolve, reject) => {\r\n            new TWEEN.Tween(points.geometry.attributes)\r\n                .to({}, duration)\r\n                .onUpdate(function (step) {\r\n\r\n                    for (let i = 0; i < this.position.array.length; ++i) {\r\n                        this.position.array[i] = fromPosition[i] + (toPosition[i] - fromPosition[i]) * step;\r\n                    }\r\n\r\n                    this.position.updateRange.count = this.position.array.length;\r\n\r\n                    if (this.position.updateRange.count > 0) {\r\n                        this.position.needsUpdate = true;\r\n                    }\r\n                })\r\n                .easing(effect || TWEEN.Easing.Bounce.Out)\r\n                .onComplete(function () { resolve(self); })\r\n                .start();\r\n        })\r\n    }\r\n}\r\nlet getGeometry = function (scene, swarmName, sample) {\r\n\r\n    var geometry = new THREE.BufferGeometry();\r\n\r\n    geometry.addAttribute('position', new THREE.BufferAttribute(sample.points, 3));\r\n    geometry.addAttribute('color', new THREE.BufferAttribute(sample.colors, 3));\r\n    geometry.computeBoundingSphere();\r\n\r\n    var material = new THREE.PointsMaterial({ size: 15, vertexColors: THREE.VertexColors });\r\n    var points = new THREE.Points(geometry, material);\r\n\r\n    points.name = swarmName;\r\n\r\n    scene.add(points);\r\n};\r\n\r\nlet prepareCamera = function () {\r\n\r\n    var camera = new THREE.PerspectiveCamera(27, window.innerWidth / window.innerHeight, 5, 3500);\r\n    camera.position.z = 2750;\r\n\r\n    return camera;\r\n};\r\n\r\nlet prepareScene = function (swarmName, sample) {\r\n\r\n    var scene = new THREE.Scene();\r\n    scene.fog = new THREE.Fog(0x050505, 2000, 3500);\r\n\r\n    getGeometry(scene, swarmName, sample);\r\n\r\n    return scene;\r\n};\r\n\r\nlet prepareRenderer = function (scene) {\r\n\r\n    var renderer = new THREE.WebGLRenderer({ antialias: false });\r\n\r\n    renderer.setClearColor(scene.fog.color);\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    renderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n    return renderer;\r\n};\r\n\r\nlet init = function (renderer, scene, camera) {\r\n\r\n    container.appendChild(renderer.domElement);\r\n\r\n    window.addEventListener('resize', function () {\r\n\r\n        camera.aspect = window.innerWidth / window.innerHeight;\r\n        camera.updateProjectionMatrix();\r\n        renderer.setSize(window.innerWidth, window.innerHeight);\r\n\r\n    }, false);\r\n};\r\n\r\nlet render = function (renderer, scene, camera, swarmName) { \r\n    var time = Date.now() * 0.001;\r\n\r\n    var points = scene.getObjectByName(swarmName);\r\n    points.rotation.x = time * 0.25;\r\n    points.rotation.y = time * 0.5;\r\n\r\n    TWEEN.update();\r\n\r\n    renderer.render(scene, camera);\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/swarm.js\n **/","'use strict';\r\n\r\nexport default function () {\r\n    if (!Float32Array.prototype.slice) {\r\n        Float32Array.prototype.slice = function (start, end) {\r\n            var that = this;\r\n            if (end == undefined) end = that.length;\r\n            var result = new ArrayBuffer(end - start);\r\n            var resultArray = new Float32Array(result);\r\n            for (var i = 0; i < resultArray.length; i++)\r\n                resultArray[i] = that[i + start];\r\n            return resultArray;\r\n        }\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","'use strict';\r\n\r\nimport {} from './utils'\r\n\r\nlet _zero = new THREE.Vector3(0, 0, 0);\r\nlet _white = new THREE.Color().setRGB(1, 1, 1);\r\n\r\nexport default class Sample {\r\n    constructor(count) {\r\n        this._count = count;\r\n\r\n        this._points = new Float32Array(count * 3);\r\n        this._colors = new Float32Array(count * 3);\r\n\r\n        this._pointRule = null;\r\n        this._colorRule = null;\r\n\r\n        this.setPointRule(function () { return _zero });\r\n        this.setColorRule(function () { return _white });\r\n    }\r\n\r\n    setPointRule(producePointRule) {\r\n        this._pointRule = producePointRule;\r\n\r\n        for (var i = 0; i < this._count; i += 3) {\r\n\r\n            var v3 = producePointRule();\r\n\r\n            this._points[i] = v3.x;\r\n            this._points[i + 1] = v3.y;\r\n            this._points[i + 2] = v3.z;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    setColorRule(produceColorRule) {\r\n        this._colorRule = produceColorRule;\r\n\r\n        for (var i = 0; i < this._count; i += 3) {\r\n\r\n            var rgb = produceColorRule(new THREE.Vector3(this._points[i], this._points[i + 1], this._points[i + 2]));\r\n\r\n            this._colors[i] = rgb.r;\r\n            this._colors[i + 1] = rgb.g;\r\n            this._colors[i + 2] = rgb.b;\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    get count() {\r\n        return this._count;\r\n    }\r\n\r\n    get points() {\r\n        return this._points.slice(0);\r\n    }\r\n\r\n    get colors() {\r\n        return this._colors.slice(0);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/sample.js\n **/"],"sourceRoot":""}